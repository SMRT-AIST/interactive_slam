## Installation notes for ubuntu 16.04 and kinetic 
Setup in a catkin workspace:
cd ~/ckws_hdl/src/
git clone https://github.com/SMRT-AIST/interactive_slam --recursive
git clone https://github.com/koide3/ndt_omp
git clone https://github.com/koide3/odometry_saver
cd ..
source devel/setup.bash
sudo apt-get -f install
sudo apt-get install libpng12-dev libglm-dev libjpeg-dev
sudo apt-get install libglm-dev libglfw3-dev
sudo apt install clang-6.0 lld-6.0
sudo update-alternatives --install /usr/bin/ld ld /usr/bin/ld.lld-6.0 50
sudo update-alternatives --install /usr/bin/clang clang /usr/bin/clang-6.0 50
sudo update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-6.0 50
rm -rf build devel
CC=clang CXX=clang++ catkin_make -DCMAKE_BUILD_TYPE=Release
source devel/setup.bash
//get suitable data
rosrun interactive_slam interactive_slam





# interactive_slam
***interactive_slam*** is an open source 3D LIDAR-based mapping framework. In contrast to existing automatic SLAM packages, we aim to develop a semi-automatic framework which allows the user to interactively and intuitively correct mapping failures (e.g., corrupted odometry, wrong loop detection, distorted map, etc) with minimum effort. This framework provides several map correction features:
  - [Manual & Automatic] Loop closing
  - [Manual] Plane-based map correction
  - [Manual] Multiple map merging
  - [Automatic] Pose edge refinement


![Screenshot_20191016_182424](https://user-images.githubusercontent.com/31344317/66906208-3f2e0880-f042-11e9-8366-c178f9c00b65.png)
[[video]](https://youtu.be/KKG95xMVTas)


This package is built on top of the ROS ecosystem. You can start building a map with a pose graph constructed by [hdl_graph_slam](https://github.com/koide3/hdl_graph_slam) or odometry data generated by any ROS packages, such as [LeGO-LOAM](https://github.com/RobustFieldAutonomyLab/LeGO-LOAM). If you are interested in a ROS-independent cross platform version (Ubuntu/Windows), see [here](https://github.com/koide3/interactive_slam/wiki/Closed-source-version).

We are looking forward to hearing your feedback and additional feature requests on this package. Requested features which are publicly useful would appear in the future version. [Send your feedback](https://docs.google.com/forms/d/1Qp1YA1XNX7qecNqZ--5T-40Qi5jnC-ayre1bNx89uIs)

This package has been tested on Ubuntu 18.04 & ROS melodic.

[![Codacy Badge](https://api.codacy.com/project/badge/Grade/294925db25014c2ba6698cb2841de365)](https://www.codacy.com/manual/koide3/interactive_slam?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=koide3/interactive_slam&amp;utm_campaign=Badge_Grade)ã€€[![Build Status](https://travis-ci.org/SMRT-AIST/interactive_slam.svg?branch=master)](https://travis-ci.org/SMRT-AIST/interactive_slam)

## Installation
***interactive_slam*** depends on the following libraries:

  - [GL3W](https://github.com/skaslev/gl3w)
  - [GLFW](https://www.glfw.org/)
  - [Dear ImGui](https://github.com/ocornut/imgui)
  - [portable-file-dialog](portable-file-dialog)
  - [OpenMP](https://www.openmp.org/)
  - [PCL](https://github.com/skaslev/gl3w)
  - [g2o](https://github.com/RainerKuemmerle/g2o)


```bash
# for ROS melodic
sudo apt-get install libglm-dev libglfw3-dev
sudo apt-get install ros-melodic-geodesy ros-melodic-pcl-ros ros-melodic-nmea-msgs ros-melodic-libg2o
```

```bash
cd ~/catkin_ws/src
git clone https://github.com/koide3/ndt_omp
git clone https://github.com/koide3/hdl_graph_slam
git clone https://github.com/koide3/odometry_saver
git clone https://github.com/SMRT-AIST/interactive_slam --recursive

cd ~/catkin_ws
catkin_make -DCMAKE_BUILD_TYPE=Release
```

***ROS Kinetic users***  
This package cannot be built using gcc and ld on Ubuntu 16. If you are on Ubuntu 16 and ROS kinetic, try LLVM toolchain. Note: we recommend to use this package on melodic since we do only build-test but not run-test on kinetic.

```bash
sudo apt install clang-6.0 lld-6.0
sudo update-alternatives --install /usr/bin/ld ld /usr/bin/ld.lld-6.0 50
sudo update-alternatives --install /usr/bin/clang clang /usr/bin/clang-6.0 50
sudo update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-6.0 50
cd ~/catkin_ws && rm -rf build devel    # be aware of that this command removes build and devel directories
CC=clang CXX=clang++ catkin_make -DCMAKE_BUILD_TYPE=Release
```

## Examples

### Example1 - Basic usage with hdl_graph_slam

In this example, we edit a map (pose graph) constructed by [hdl_graph_slam](https://github.com/koide3/hdl_graph_slam).  [See more](https://github.com/koide3/interactive_slam/wiki/Example1).
![Screenshot_20191016_175924 png](https://user-images.githubusercontent.com/31344317/66904272-c11c3280-f03e-11e9-9420-078d75c5c0e9.jpg)

### Example2 - Generating odometry with external ROS package

In this example, we create a map with odometry data generated from a rosbag file using LeGO-LOAM. [See more](https://github.com/koide3/interactive_slam/wiki/Example2).

### Example3 - Plane-based map correction & Map merging

In this example, we correct a warped map with plane constraints and merge it with another map. [See more](https://github.com/koide3/interactive_slam/wiki/Example3).

![Screenshot_20191016_182955 png](https://user-images.githubusercontent.com/31344317/66906642-fe82bf00-f042-11e9-9373-f810337f4d97.jpg)

## Graph/Odometry file format

You can feed graph/odometry files generated by your program to ***interactive_slam***. [See more](https://github.com/koide3/interactive_slam/wiki/Format)

## FAQ

[FAQ](https://github.com/koide3/interactive_slam/wiki/FAQ)

## License
***interactive_slam*** is released under GPLv3 license. If you are interested in a closed-source version or you need technical support, see [here](https://github.com/koide3/interactive_slam/wiki/Closed-source-version) and contact us.

## Related packages

- [hdl_graph_slam](https://github.com/koide3/hdl_graph_slam)
- [hdl_localization](https://github.com/koide3/hdl_localization)
- [hdl_people_tracking](https://github.com/koide3/hdl_people_tracking)

## Contact
Kenji Koide, k.koide@aist.go.jp

Active Intelligent Systems Laboratory, Toyohashi University of Technology, Japan [\[URL\]](http://www.aisl.cs.tut.ac.jp)  
Robot Innovation Research Center, National Institute of Advanced Industrial Science and Technology, Japan  [\[URL\]](https://unit.aist.go.jp/rirc/en/team/smart_mobility.html)
